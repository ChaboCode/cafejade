<?xml version="1.0" encoding="UTF-8"?>


<templates id="template" xml:space="preserve">
	<t t-name="SaveguardButtonProduct" owl="1">
		<div class="ticket-button" t-att-class="{ highlight: props.isTicketScreenShown }" t-on-click="onClick">
            <div class="with-badge" t-att-badge="count">
                <i class="fa fa-shield" aria-hidden="true"></i>
            </div>
            <div t-if="!env.isMobile">Salvaguarda</div>
        </div>
	 </t>

	 
	 <t t-name="MenuButtonlt" owl="1" >
		<div class="ticket-button menuitem_pos_ogum" t-att-class="{ highlight: props.isTicketScreenShown }" t-on-click="onClick" >
            <select id="menuitem" class="select_menuitem">
					<option value='0' class="options">Opciones</option>
					<option value='1' class="options"> 
						Generar Salvaguarda
					</option>
					<option value='2' class="options"> 
						Reporte de propinas
					</option>
					<option value='3' class="options"> 
						Cambio de turno
					</option>
			
			</select>
        </div>
	 </t>


	 <t t-inherit="point_of_sale.Chrome" t-inherit-mode="extension">
		<xpath expr="//TicketButton" position="before">
				<MenuButtonlt/>
		</xpath>
		<xpath expr="//TicketButton" position="before">
			<MenuButtonlt  t-if="env.isMobile" />
		</xpath>
	</t>


 <t t-name="SaveTipsButtonProduct" owl="1">
		<div class="customer-button">
			<div class="button save-tips-button"  t-on-click="selectTipsNew">
			<i class="fa fa-inbox"></i>
			<span></span>
			<span>Propinas</span>
		</div>
		</div>
	</t>

	 <t t-inherit="point_of_sale.PaymentScreen" t-inherit-mode="extension">
	 
		<xpath expr="//div[hasclass('payment-controls')]" position="after">
				<br/>
				<table>
					<t t-foreach="get_tips.tips" t-as="propina" t-key="propina">
						<tr>
							<td width='60%'>
								<t t-esc='propina.metodo'/>
							</td>
							<td width='10%'>
							</td>
							<td width='30%'>
								<t t-esc='env.pos.format_currency(propina.monto)'/>
							</td>
						</tr>
					</t>
				</table>
				<br/>
				<SaveTipsButtonProduct/>
		</xpath>
		<xpath expr="//div[hasclass('payment-controls')]" position="after">
			<br/>
			<br/>
			<SaveTipsButtonProduct  t-if="env.isMobile" />
		</xpath>
	</t>

	<t t-name="SelectWaiterProduct" owl="1">

	<div class="waiter_assign" >
                <t t-if="env.pos.waitername">
                   Mesero: <t t-esc="env.pos.waitername" />
                </t>
                <t t-else="">
                    <i class="fa fa-user-plus"/> Asignar mesero
                </t>
	</div>
	</t>


	<t t-name="ReasingWaiterProduct" owl="1">
	<div class="tipsreport" >
			<div>
			<i class="fa fa-refresh"></i>
			<span></span>
			<span>Reasignar mesero</span>
		</div>
		</div>
	</t>

    <t t-inherit="point_of_sale.ActionpadWidget" t-inherit-mode="extension">
		<xpath expr="//button" position="after">
				<SelectWaiterProduct/>
		</xpath>
		
	</t>


	<t t-name="CashInOutStatementButton" owl="1">
		<span class="tipsreport" >
			<i class="fa fa-print"></i>
			<span> </span>
			<span>Reporte propinas</span>
		</span>
	</t>

	<t t-name="CashInReceiptScreen" owl="1">
		<div class="receipt-screen screen">
			<div class="screen-content">
				<div class="top-content">
					<span class="button back" t-on-click="back">
						<i class="fa fa-angle-double-left"></i>
						<span> </span>
						<span>Regresar</span>
					</span>
					<div class="top-content-center">
						<h1>Imprimir</h1>
					</div>
				</div>
				<div class="centered-content touch-scrollable">
					<div class="button print" t-on-click="printReceipt">
						<i class="fa fa-print"></i>
						<span>Imprimir</span>
					</div>
					<div class="pos-cash-receipt-container">
						<CashInReceipt
							operation="props.operation"
							amount = "props.amount"
							purpose = "props.purpose"
							method = "props.method"
							nombre_usuario = "props.nombre_usuario"
							t-ref="order-receipt"
						/>
					</div>
				</div>
			</div>
		</div>
	</t>

	<t t-name="CashInReceipt" owl="1">
		<div class="pos-receipt-container">
			<div >
				<t t-esc="env.pos.company.name"/><br />
				<div class="receipt-phone">
					Telefono: <t t-esc="env.pos.company.phone || ''"/><br />
				</div>
				<div class="receipt-user">
					Correo electronico: <t t-esc="env.pos.company.email || ''"/><br />
				</div>
				<div class="receipt-user">
					Mesero: <t t-esc="props.nombre_usuario"/><br />
				</div>
				
				<div class="receipt-user">
					Operación: <t t-esc="props.operation"/><br />
				</div>

				<div class="receipt-user">
					Concepto: <t t-esc="props.purpose || ''"/><br />
				</div>

				<div class="receipt-user">
					Metodo de pago: <t t-esc="props.method || ''"/><br />
				</div>

				<div class="receipt-user">
					Monto: $<t t-esc="props.amount || ''"/><br />
				</div>
				<br/>
				<div style="margin-top:70px;text-align: center;">
				<p style="border-top: 2px dashed black;"></p>
				<b><span>Firma</span></b>
			</div>
			</div>
		</div>
	</t>


   	<t t-name="CashOutReceiptScreen" owl="1">
		<div class="receipt-screen screen">
			<div class="screen-content">
				<div class="top-content">
					<span class="button back" t-on-click="back">
						<i class="fa fa-angle-double-left"></i>
						<span> </span>
						<span>Regresar</span>
					</span>
					<div class="top-content-center">
						<h1>Imprimir</h1>
					</div>
				</div>
				<div class="centered-content touch-scrollable">
					<div class="button print" t-on-click="printReceipt">
						<i class="fa fa-print"></i>
						<span>Imprimir</span>
					</div>
					<div class="pos-cash-receipt-container">
						<CashOutReceipt
							operation="props.operation"
							amount = "props.amount"
							purpose = "props.purpose"
							t-ref="order-receipt"
						/>
					</div>
				</div>
			</div>
		</div>
	</t>

	<t t-name="CashOutReceipt" owl="1">
		<div class="pos-receipt-container">
			<div >
				<t t-esc="env.pos.company.name"/><br />
				<div class="receipt-phone">
					Telefono: <t t-esc="env.pos.company.phone || ''"/><br />
				</div>
				<div class="receipt-user">
					Correo electronico: <t t-esc="env.pos.company.email || ''"/><br />
				</div>
				<div class="receipt-user">
					Responsable: <t t-esc="env.pos.get_cashier().name"/><br />
				</div>
				
				<div class="receipt-user">
					Operación: <t t-esc="props.operation"/><br />
				</div>

				<div class="receipt-user">
					Concepto: <t t-esc="props.purpose || ''"/><br />
				</div>

				<div class="receipt-user">
					Monto: $<t t-esc="props.amount || ''"/><br />
				</div>
				<br/>
				<div style="margin-top:70px;text-align: center;">
				<p style="border-top: 2px dashed black;"></p>
				<b><span>Firma</span></b>
			</div>
			</div>
		</div>
	</t>

	<t t-name="CashInOutStatementPopup" owl="1">
		<div role="dialog" class="modal-dialog">
			<Draggable>
				<div class="popup">
					<header class="title drag-handle">
						Imprimir
					</header>
					<main class="body" style="font-family: 'Lato-Reg';">
						<table  class="popup-table">
							<tr>
								<td>General/por mesero:</td>
								<td>
									<select id="cashier" class="cashier-selection">
										<option>General</option>
										<t t-foreach="get_data_waiters.data_waiters" t-as="metodo" t-key="metodo">
												<option t-att-value='metodo.id'> 
												<t t-esc='metodo.name'/>
											</option>
										</t>
									</select>

									

										
								</td>
							</tr>		
							
						</table>
					</main>
					<footer class="footer">
						<div class="button cancel odoo-theme-color" t-on-click="cancel">
							Cancelar
						</div>
						<div class="button cancel odoo-theme-color" t-on-click="print_cash_in_out_statement">
							Imprimir
						</div>
					</footer>
				</div>
			</Draggable>
		</div>
	</t>
	
	<t t-name="StatementReportScreen" owl="1">
		<div class="receipt-screen screen">
			<div class="screen-content">
				<div class="top-content">
					<span class="button back" t-on-click="back">
						<i class="fa fa-angle-double-left"></i>
						<span> </span>
						<span>Regresar</span>
					</span>
					<div class="top-content-center">
						<h1> Imprimir</h1>
					</div>
				</div>
				<div class="centered-content touch-scrollable">
					<div class="button print" t-on-click="printReceipt">
						<i class="fa fa-print"></i>
						<span>Imprimir</span>
					</div>
					<div class="pos-statement-receipt-container">
						<StatementSummaryReceipt
							statement_data = "props.statement_data"
							date = "props.date"
							t-ref="order-receipt"
						/>
					</div>
				</div>
			</div>
		</div>
	</t>

	<t t-name="StatementSummaryReceipt" owl="1">
		<div class="pos-receipt-container">
			<div class="pos-center-align" style="text-align: center;">
				
				<t t-esc="date_o"/> <br/>
				<t t-esc="env.pos.company.name"/><br />
				<div class="receipt-phone">
					Telefono: <t t-esc="env.pos.company.phone || ''"/><br />
				</div>
				<div class="receipt-user">
					Cajero: <t t-esc="env.pos.get_cashier().name"/><br />
				</div>
				<div class="receipt-user">
					Correo electronico: <t t-esc="env.pos.company.email || ''"/><br />
				</div>
				<br />
				<t t-if="!order_current_session">
					<div class="receipt-periods" style="width: 301px;">
						Fecha: <span t-esc="props.date"/>
						
					</div>
				</t>
				<br/>

				<table class='pos-center-align' style="margin-top: 10px;width: 100% !important; border-bottom: 2px solid black;">
					<colgroup>
						<col width='25%' />
						<col width='25%' />
						<col width='25%' />
						<col width='25%' />
					</colgroup>
					<thead>
						<tr style="border-bottom: 2px solid black;">
							<th>Fecha</th>
							<th>Mesero</th>
							<th>Metodo pago</th>
							<th class="pos-center-align">Monto propina</th>
						</tr>
					</thead>
					<tbody style="font-size:12px;">
						<tr t-foreach="props.statement_data[1]" t-as="summery1">
							<td>
								<t t-esc="summery1.date"/>
							</td>
							<td>
								<t t-esc="summery1.waiter"/>
							</td>
							<td>
								<t t-esc="summery1.payment_method"/>
							</td>
							<td class="pos-center-align">
								<t t-esc="env.pos.format_currency(summery1.credit)"/>
							</td>
						</tr>
					</tbody>
				</table>

				<table class='pos-center-align' style="margin-top: 10px;width: 100% !important;">
					<colgroup>
						<col width='50%' />
						<col width='25%' />
						<col width='25%' />
					</colgroup>
					<thead>
						<tr style="border-bottom: 2px solid black;">
							<th>Mesero</th>
							<th>Total No. pedidos</th>
							<th>Total propinas</th>
						</tr>
					</thead>
					<tbody style="font-size:14px;">
						<tr t-foreach="props.statement_data[3]" t-as="summery2" >
							<td>
								<t t-esc="summery2.waiter"/>
							</td>
							<td>
								<t t-esc="summery2.orders_no"/>
							</td>
							<td>
								<t t-esc="env.pos.format_currency(summery2.tips_total)"/>
							</td>
						</tr>
						<tr>
							<td><b> </b></td>
							<td style="padding-top: 10px;"><b> Total:</b></td>
							<td style="padding-top: 10px;" class="pos-center-align"><b><t t-esc="env.pos.format_currency(props.statement_data[2])"/></b></td>
						</tr>
					</tbody>
				</table>

				<br />
				<br/>

				<div style="margin-top:70px;text-align: center;">
					<p style="border-top: 2px dashed black;"></p>
					<b><span>Firma</span></b>
				</div>
			</div>
					
		</div>
	</t>

</templates>